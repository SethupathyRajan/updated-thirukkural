<html lang="ta">

<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>திருக்குறள் பழகு - N-gram Prediction</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Meera+Inimai&display=swap" rel="stylesheet">
    <script src="../static/js/app.js"></script>
    <link rel="stylesheet" href="../static/css/basicStyle.css">
    <link rel="stylesheet" href="../static/css/learnThirukkural.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/basicStyle.css') }}">
    <link rel="stylesheet" href="../static/css/fillups.css">
    <link rel="stylesheet" href="../static/css/select_game.css">
    
</head>

<body style="background-image: url('https://images.pexels.com/photos/1212600/pexels-photo-1212600.jpeg');
             background-size: cover;
             background-repeat: no-repeat;
             background-position: center;
             height: 100vh;">

    <div class="main-container" >
        <div class="navbar-container">
            <nav class="">
                   <img src="../static/images/muthir-logo.png" alt="Muthir AI" height="120px" width="120px">

                <ul class="">
                    <li class="nav-cell" id="nav-cell1">
                        <a href="/index/" class="">
                            <svg class="nav-icon" id="cell" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                class="bi bi-house-door" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                                <path fill-rule="evenodd"
                                    d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z" />
                            </svg>
                        </a>
                    </li>
                    <li class="nav-cell">
                        <a href="" class="">
                            <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                class="bi bi-house-door" viewBox="0 0 16 16">
                                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />

                            </svg>
                        </a>
                    </li>
                    <li class="nav-cell">
                        <a href="/" class="">
                            <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                class="bi bi-house-door" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z" />
                                <path fill-rule="evenodd"
                                    d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z" />
                            </svg>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="content-container">
            <div class="header">
                <div class="title-content">
                    <p class="title">திருக்குறள் பழகு</p>
                    <p class="tag-line">N-gram கணிப்பு விளையாட்டு</p>
                </div>
                <div class="points-content">
                    <div class="points">
                        <div class="point-section">
                            <img class="point-diamond-img" src="../static/images/diamond.png" alt="Diamonds">
                            <span class="point-count"
                                id="diamond-points">{{session['user']['points']['diamonds']['total']}}</span>
                        </div>
                        <div class="point-section">
                            <img class="point-coins-img" src="../static/images/star-icon.png" alt="Diamonds">
                            <span class="point-count"
                                id="diamond-points">{{session['user']['points']['stars']['total']}}</span>
                        </div>
                    </div>
                </div>
            </div>
<div class="page-container">

    <div class="page-heading" style="margin: 5px 0;">
        <p class="page-title" style="margin: 0; font-size: 26px;">N-gram கணிப்பு விளையாட்டு</p>
    </div>

    <div class="main-content">
        <div class="main">

            <div id="game-container">

                <!-- Timer Display -->
                <div class="timer-container" style="text-align: center; margin: 10px 0;">
                    <p style="font-size: 20px; font-weight: bold;">
                        நேரம்: <span id="timer-display">0.0</span> வினாடிகள்
                    </p>
                </div>

                <!-- Kural Display -->
                <div class="kural-content" style="margin: 10px 0;">
                    <div class="kural-border fillups-border" style="padding: 10px;">
                        <div class="fillups-row" id="kural-line-display" style="text-align: center; font-size: 20px; padding: 10px;">
                            <p id="masked-line-text">குறள் ஏற்றுகிறது...</p>
                        </div>
                    </div>
                </div>

                <!-- Input Section -->
                <div class="input-container" style="text-align: center; margin: 15px 0;">
                    <input type="text" id="user-answer-input" 
                           placeholder="விடையை உள்ளிடுக..."
                           style="font-size: 18px; padding: 10px; width: 240px; text-align: center; border: 2px solid black; border-radius: 8px;">
                    <div style="margin-top: 10px;">
                        <button id="submit-answer-btn" class="practice-btn drag-submit-btn"
                                onclick="submitUserAnswer()"
                                style="margin: 5px; padding: 8px 16px;">
                            சமர்ப்பிக்க
                        </button>
                        <button id="next-kural-btn" class="practice-btn drag-submit-btn"
                                onclick="loadNewKural()"
                                style="margin: 5px; padding: 8px 16px; display: none;">
                            அடுத்த குறள்
                        </button>
                    </div>
                </div>

<!-- Results Section -->
<div id="results-container" 
     style="display: none; text-align: center; margin: 15px 0;">

    <div style="
        background: rgba(255,255,255,0.75);
        padding: 18px;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        backdrop-filter: blur(4px);
        max-width: 380px;
        margin: auto;
    ">

        <h3 style="
            font-size: 20px; 
            margin: 5px 0 12px 0;
            color: #3a2f2f;
            font-weight: bold;
        ">
            முடிவுகள்
        </h3>

        <div style="
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 12px; 
            text-align: left;
            font-size: 15px;
        ">

            <!-- User Section -->
            <div>
                <p style="margin: 3px 0; font-weight: bold;">நீங்கள்</p>
                <p id="user-result" style="margin: 2px 0; color: #444;"></p>
                <p id="user-time" style="margin: 2px 0; font-size: 13px; color: #666;"></p>
            </div>

            <!-- Machine Section -->
            <div>
                <p style="margin: 3px 0; font-weight: bold;">இயந்திரம்</p>
                <p id="machine-result" style="margin: 2px 0; color: #444;"></p>
                <p id="machine-time" style="margin: 2px 0; font-size: 13px; color: #666;"></p>
            </div>

        </div>

        <!-- Correct Word -->
        <p id="correct-word-display" 
           style="margin-top: 12px; font-size: 16px; font-weight: bold; color: #2a1f1f;">
        </p>

    </div>
</div>


                

            <!-- Leaderboard -->
            <div class="leaderboard-section" style="margin-top: 20px;">
                <div class="leaderboard" style="padding: 10px;">
                    <p class="leaderboard-title" style="margin-bottom: 5px;">Leaderboard</p>

                    <table class="leaderboard-table" id="leaderboard-table">
                        <tr class="leaderboard-heading">
                            <th>Rank</th>
                            <th>User</th>
                            <th>Correct</th>
                            <th>Avg Time</th>
                        </tr>
                        <tr>
                            <td colspan="4" style="text-align: center; padding: 10px;">
                                Loading leaderboard...
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </div>
    </div>

    <div class="navigation-btns" style="margin-top: 10px;">
        <div class="back">
            <a href="/select_game">
                <p class="back-button">&#60; பின் செல்ல </p>
            </a>
        </div>
    </div>

</div>
        </div>
    </div>
    <script src="/static/js/jquery.js"></script>
    <script src="/static/js/ngram_game.js"></script>
</body>

</html>

